{"name":"Uganda","description":"Process rCAPTURE records and send to both Staging and Production","owningEntity":"","trustedEntities":[],"CREATED_DATE":"2018-01-06T02:33:04.079Z","CREATED_BY":"59d20b35bddc7e02b10e9672","MODIFIED_BY_NAME":"zerion_support_ripplenami","recordSetKeyHashes":[],"nodes":[{"name":"storage","type":"recordset","recordCount":0,"node":0,"nodeType":"node","recordSetName":"storage","description":null},{"name":"ifb_registration_p","type":"webhook","recordCount":0,"node":1,"nodeType":"input","secure":false,"recordSetIndex":0,"webhookName":"ifb_registration_p","webhookUrl":""},{"name":"add_ripplenami_unique_ids","type":"recordset","recordCount":0,"node":2,"nodeType":"node","recordSetName":"add_ripplenami_unique_ids","description":null,"data_refinery":{"parameters":{"previewInputData":"{\n  \"ID\": \"14\",\n  \"PARENT_RECORD_ID\": \"0\",\n  \"PARENT_PAGE_ID\": \"0\",\n  \"PARENT_ELEMENT_ID\": \"0\",\n  \"CREATED_DATE\": \"2018-01-05 22:09:48\",\n  \"CREATED_BY\": \"data_edge_revenue\",\n  \"CREATED_LOCATION\": \"38.957330:-77.418158:78.099998:19.773001:19.773001:0.000000:0.000000:1515207917568.000000\",\n  \"CREATED_DEVICE_ID\": \"356696656673243\",\n  \"MODIFIED_DATE\": \"2018-01-05 22:10:52\",\n  \"MODIFIED_BY\": \"data_edge_revenue\",\n  \"MODIFIED_LOCATION\": \"\",\n  \"MODIFIED_DEVICE_ID\": \"356696656673243\",\n  \"SERVER_MODIFIED_DATE\": \"2018-01-05 22:11:01\",\n  \"is_property_registered\": \"No\",\n  \"new_property\": [\n    {\n      \"ID\": \"17\",\n      \"PARENT_RECORD_ID\": \"14\",\n      \"PARENT_PAGE_ID\": \"146\",\n      \"PARENT_ELEMENT_ID\": \"3341\",\n      \"CREATED_DATE\": \"2018-01-05 22:10:50\",\n      \"CREATED_BY\": \"data_edge_revenue\",\n      \"CREATED_LOCATION\": \"38.957297:-77.418089:78.099998:21.749001:21.749001:0.000000:0.000000:1515208310784.000000\",\n      \"CREATED_DEVICE_ID\": \"356696656673243\",\n      \"MODIFIED_DATE\": \"2018-01-05 22:10:50\",\n      \"MODIFIED_BY\": \"data_edge_revenue\",\n      \"MODIFIED_LOCATION\": \"38.957297:-77.418089:78.099998:21.749001:21.749001:0.000000:0.000000:1515208310784.000000\",\n      \"MODIFIED_DEVICE_ID\": \"356696656673243\",\n      \"SERVER_MODIFIED_DATE\": \"2018-01-05 22:11:01\",\n      \"plot_number\": \"626\",\n      \"apartment_unit_number\": \"2002\",\n      \"parish_unique_identifier\": \"Kibira\",\n      \"parish\": \"Kibira\",\n      \"subcounty\": \"Nyantungo\",\n      \"county\": \"Mwenge\",\n      \"district\": \"Kyenjojo\",\n      \"region\": \"Western\",\n      \"country\": \"Uganda\",\n      \"property_address\": \"626 #2002 Kibira Nyantungo Mwenge Kyenjojo Western Uganda\",\n      \"parish_id\": \"41520902\",\n      \"subcounty_id\": \"415209\",\n      \"county_id\": \"4152\",\n      \"district_id\": \"415\",\n      \"gps_location\": \"Latitude:38.957330,\\nLongitude:-77.418158,\\nAltitude:78.099998,\\nSpeed:0.000000,\\nAccuracy:19.773001,\\nProvider:network,\\nTime:01/05/2018 22:04:21 EST\",\n      \"longitude\": \"-77.418158\",\n      \"latitude\": \"38.95733\",\n      \"gps_location_confirmed\": \"Yes\",\n      \"land_lot_length\": 66,\n      \"land_lot_width\": 66,\n      \"land_lot_size\": \"4356.00\",\n      \"is_home_building_present\": \"No\",\n      \"home_building_type\": null,\n      \"year_built\": null,\n      \"wall_material\": null,\n      \"roof_material\": null,\n      \"window_material\": null,\n      \"building_condition\": null,\n      \"floor_size\": 0,\n      \"number_of_bedrooms\": \"0\",\n      \"number_of_bathrooms\": \"0\",\n      \"number_of_stories\": \"0\",\n      \"water_source\": \"Well\",\n      \"electricity_source\": \"ESDA Post-Paid\",\n      \"offstreet_parking\": \"No\",\n      \"number_of_parking_spaces\": 0,\n      \"parking_structure\": \"No\",\n      \"parking_structure_type\": null,\n      \"access_road\": \"No\",\n      \"access_road_surface\": null,\n      \"access_road_motorable\": null,\n      \"property_valuation\": \"435.6\",\n      \"property_taxation_amount\": \"13.068\",\n      \"monthly_rent\": 0,\n      \"annual_rental_taxation_amount\": \"0\",\n      \"property_unique_id\": null\n    }\n  ],\n  \"select_property\": null,\n  \"register_person_with_property\": \"No\",\n  \"is_person_registered\": null,\n  \"new_person\": null,\n  \"select_person\": null,\n  \"registration_relationship\": null,\n  \"validate_record\": null,\n  \"_id\": \"5a503e4721fc2b38c43a9149\",\n  \"RUN_ID\": \"5a503e46394ae06156c84459\",\n  \"RUN_ID_RECORD_IDX\": \"0\"\n}","filterHelperCode":"","filterExpression":"","transformationHelperCode":"if(typeof record.new_property !== \"undefined\" && Array.isArray(record.new_property) && record.new_property.length > 0) {\n    for(var i=0; i < record.new_property.length; i++) {\n        if(record.new_property[i].property_unique_id == null || record.new_property[i].property_unique_id.trim() === \"\") {\n            record.new_property[i].property_unique_id = String(record.new_property[i].parish_id) + String(record.new_property[i].ID);\n        }\n    }\n}","transformationExpression":"record"},"type":"PREPROCESSING","deleteOnEachRun":true,"status":1,"jobStatus":null},"parentRecordSetIndex":[0]},{"name":"properties","type":"recordset","recordCount":0,"node":3,"nodeType":"node","status":1,"recordSetName":"properties","description":null,"data_refinery":{"parameters":{"previewInputData":"{\n  \"ID\": \"17\",\n  \"PARENT_RECORD_ID\": \"0\",\n  \"PARENT_PAGE_ID\": \"0\",\n  \"PARENT_ELEMENT_ID\": \"0\",\n  \"CREATED_DATE\": \"2018-01-05 22:13:21\",\n  \"CREATED_BY\": \"data_edge_revenue\",\n  \"CREATED_LOCATION\": \"38.957321:-77.418148:78.099998:19.750999:19.750999:0.000000:0.000000:1515208310784.000000\",\n  \"CREATED_DEVICE_ID\": \"356696656673243\",\n  \"MODIFIED_DATE\": \"2018-01-05 22:14:00\",\n  \"MODIFIED_BY\": \"data_edge_revenue\",\n  \"MODIFIED_LOCATION\": \"38.957321:-77.418142:78.099998:21.531000:21.531000:0.000000:0.000000:1515208441856.000000\",\n  \"MODIFIED_DEVICE_ID\": \"356696656673243\",\n  \"SERVER_MODIFIED_DATE\": \"2018-01-05 22:14:08\",\n  \"is_property_registered\": \"No\",\n  \"new_property\": [\n    {\n      \"ID\": \"20\",\n      \"PARENT_RECORD_ID\": \"17\",\n      \"PARENT_PAGE_ID\": \"146\",\n      \"PARENT_ELEMENT_ID\": \"3341\",\n      \"CREATED_DATE\": \"2018-01-05 22:13:58\",\n      \"CREATED_BY\": \"data_edge_revenue\",\n      \"CREATED_LOCATION\": \"38.957321:-77.418148:78.099998:19.750999:19.750999:0.000000:0.000000:1515208310784.000000\",\n      \"CREATED_DEVICE_ID\": \"356696656673243\",\n      \"MODIFIED_DATE\": \"2018-01-05 22:13:58\",\n      \"MODIFIED_BY\": \"data_edge_revenue\",\n      \"MODIFIED_LOCATION\": \"38.957321:-77.418148:78.099998:19.750999:19.750999:0.000000:0.000000:1515208310784.000000\",\n      \"MODIFIED_DEVICE_ID\": \"356696656673243\",\n      \"SERVER_MODIFIED_DATE\": \"2018-01-05 22:14:09\",\n      \"plot_number\": \"123\",\n      \"apartment_unit_number\": \"23\",\n      \"parish_unique_identifier\": \"Kirongo\",\n      \"parish\": \"Kirongo\",\n      \"subcounty\": \"Kyenjojo Tc\",\n      \"county\": \"Mwenge\",\n      \"district\": \"Kyenjojo\",\n      \"region\": \"Western\",\n      \"country\": \"Uganda\",\n      \"property_address\": \"123 #23 Kirongo Kyenjojo Tc Mwenge Kyenjojo Western Uganda\",\n      \"parish_id\": \"41520702\",\n      \"subcounty_id\": \"415207\",\n      \"county_id\": \"4152\",\n      \"district_id\": \"415\",\n      \"gps_location\": \"Latitude:38.957321,\\nLongitude:-77.418148,\\nAltitude:78.099998,\\nSpeed:0.000000,\\nAccuracy:19.750999,\\nProvider:network,\\nTime:01/05/2018 22:11:03 EST\",\n      \"longitude\": \"-77.418148\",\n      \"latitude\": \"38.957321\",\n      \"gps_location_confirmed\": \"Yes\",\n      \"land_lot_length\": 66,\n      \"land_lot_width\": 99,\n      \"land_lot_size\": \"6534.00\",\n      \"is_home_building_present\": \"No\",\n      \"home_building_type\": null,\n      \"year_built\": null,\n      \"wall_material\": null,\n      \"roof_material\": null,\n      \"window_material\": null,\n      \"building_condition\": null,\n      \"floor_size\": 0,\n      \"number_of_bedrooms\": \"0\",\n      \"number_of_bathrooms\": \"0\",\n      \"number_of_stories\": \"0\",\n      \"water_source\": \"Tap\",\n      \"electricity_source\": \"ESDA Pre-Paid\",\n      \"offstreet_parking\": \"No\",\n      \"number_of_parking_spaces\": 0,\n      \"parking_structure\": \"No\",\n      \"parking_structure_type\": null,\n      \"access_road\": \"No\",\n      \"access_road_surface\": null,\n      \"access_road_motorable\": null,\n      \"property_valuation\": \"653.4000000000001\",\n      \"property_taxation_amount\": \"19.602\",\n      \"monthly_rent\": 0,\n      \"annual_rental_taxation_amount\": \"0\",\n      \"property_unique_id\": \"4152070220\"\n    }\n  ],\n  \"select_property\": null,\n  \"register_person_with_property\": \"No\",\n  \"is_person_registered\": null,\n  \"new_person\": null,\n  \"select_person\": null,\n  \"registration_relationship\": null,\n  \"validate_record\": null\n}","filterHelperCode":"","filterExpression":"","transformationHelperCode":"","transformationExpression":"record.new_property"},"type":"PREPROCESSING","deleteOnEachRun":true,"status":1},"parentRecordSetIndex":[2]},{"name":"add_property_unique_id","type":"iform_record","recordCount":0,"node":4,"nodeType":"output","recordSetIndex":3,"postAction":{"actionType":"iform_record","actionName":"add_property_unique_id","version":"2.1","conditions":[{"conditionHelperCode":"","conditionExpression":"","action":{"dataflowName":"Data_Edge_Revenue","dataflowId":"5a503560394ae06156c84385","recordsetName":"properties","recordsetId":"5a503ae5394ae06156c84435","entityId":"59d20b35bddc7e02b10e9672","entityName":"zerion_support_ripplenami","dynamicMapping":null,"profileId":"5","pageId":"149","newRecordTemplate":[{"id":"3185","name":"plot_number","data_type":1,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3188","name":"apartment_unit_number","data_type":1,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3191","name":"parish_unique_identifier","data_type":1,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3194","name":"parish","data_type":33,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3197","name":"subcounty","data_type":33,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3200","name":"county","data_type":33,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3203","name":"district","data_type":33,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3206","name":"region","data_type":33,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3209","name":"country","data_type":33,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3212","name":"property_address","data_type":1,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3215","name":"parish_id","data_type":33,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3218","name":"subcounty_id","data_type":33,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3221","name":"county_id","data_type":33,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3224","name":"district_id","data_type":33,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3227","name":"my_element_13","data_type":17,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3230","name":"gps_location","data_type":37,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3233","name":"longitude","data_type":33,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3236","name":"latitude","data_type":33,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3239","name":"gps_location_confirmed","data_type":7,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3242","name":"my_element_18","data_type":17,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3245","name":"land_lot_length","data_type":2,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3248","name":"land_lot_width","data_type":2,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3251","name":"land_lot_size","data_type":33,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3254","name":"my_element_23","data_type":17,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3257","name":"is_home_building_present","data_type":7,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3260","name":"home_building_type","data_type":8,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3263","name":"year_built","data_type":21,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3266","name":"wall_material","data_type":8,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3269","name":"roof_material","data_type":8,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3272","name":"window_material","data_type":8,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3275","name":"building_condition","data_type":8,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3278","name":"floor_size","data_type":2,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3281","name":"number_of_bedrooms","data_type":46,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3284","name":"number_of_bathrooms","data_type":46,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3287","name":"number_of_stories","data_type":46,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3290","name":"my_element_34","data_type":17,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3293","name":"water_source","data_type":8,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3296","name":"electricity_source","data_type":8,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3299","name":"offstreet_parking","data_type":7,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3302","name":"number_of_parking_spaces","data_type":2,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3305","name":"parking_structure","data_type":7,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3308","name":"parking_structure_type","data_type":8,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3311","name":"access_road","data_type":7,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3314","name":"access_road_surface","data_type":8,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3317","name":"access_road_motorable","data_type":7,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3320","name":"my_element_44","data_type":17,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3323","name":"property_valuation","data_type":33,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3326","name":"property_taxation_amount","data_type":33,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3329","name":"monthly_rent","data_type":2,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3332","name":"annual_rental_taxation_amount","data_type":33,"mapping":"","disabled":true,"otherCode":"","otherExpression":""},{"id":"3335","name":"property_unique_id","data_type":33,"mapping":"{{record.property_unique_id}}","disabled":true}],"userId":"","userName":null,"recordAction":"update_record","recordBody":[],"connectionId":"5a503929394ae06156c84432","grammar":"fields=id(=\"{{record.ID}}\"),property_unique_id(=\"\")","recordId":""}}],"type":"POST_ACTION","status":1,"eventSuccessTitle":null,"eventSuccess":null,"eventFailureTitle":null,"eventFailure":null}},{"name":"rWAVES","type":"recordset","recordCount":0,"node":5,"nodeType":"node","recordSetName":"rWAVES","description":null,"data_refinery":{"parameters":{"previewInputData":"{\n  \"ID\": \"170\",\n  \"PARENT_RECORD_ID\": \"0\",\n  \"PARENT_PAGE_ID\": \"0\",\n  \"PARENT_ELEMENT_ID\": \"0\",\n  \"CREATED_DATE\": \"2018-03-09 12:57:28\",\n  \"CREATED_BY\": \"data_edge_revenue\",\n  \"CREATED_LOCATION\": \"32.917375:-117.231851:44.453186:18.203999:18.203999:0.000000:0.000000:1520617127936.000000\",\n  \"CREATED_DEVICE_ID\": \"358332082254645\",\n  \"MODIFIED_DATE\": \"2018-03-09 13:02:43\",\n  \"MODIFIED_BY\": \"data_edge_revenue\",\n  \"MODIFIED_LOCATION\": \"32.917490:-117.231715:25.082581:13.653000:13.653000:0.000000:0.000000:1520618569728.000000\",\n  \"MODIFIED_DEVICE_ID\": \"358332082254645\",\n  \"SERVER_MODIFIED_DATE\": \"2018-03-09 13:02:48\",\n  \"is_property_registered\": \"No\",\n  \"new_property\": [\n    {\n      \"ID\": \"128\",\n      \"PARENT_RECORD_ID\": \"170\",\n      \"PARENT_PAGE_ID\": \"146\",\n      \"PARENT_ELEMENT_ID\": \"3341\",\n      \"CREATED_DATE\": \"2018-03-09 13:01:11\",\n      \"CREATED_BY\": \"data_edge_revenue\",\n      \"CREATED_LOCATION\": \"32.917492:-117.231755:29.266296:21.237999:21.237999:0.000000:0.000000:1520618307584.000000\",\n      \"CREATED_DEVICE_ID\": \"358332082254645\",\n      \"MODIFIED_DATE\": \"2018-03-09 13:01:12\",\n      \"MODIFIED_BY\": \"data_edge_revenue\",\n      \"MODIFIED_LOCATION\": \"32.917492:-117.231755:29.266296:21.237999:21.237999:0.000000:0.000000:1520618307584.000000\",\n      \"MODIFIED_DEVICE_ID\": \"358332082254645\",\n      \"SERVER_MODIFIED_DATE\": \"2018-03-09 13:02:49\",\n      \"plot_number\": \"\",\n      \"apartment_unit_number\": \"\",\n      \"parish_unique_identifier\": \"Abiting (Apala,Moroto,Lira)\",\n      \"parish\": \"Abiting\",\n      \"subcounty\": \"Apala\",\n      \"county\": \"Moroto\",\n      \"district\": \"Lira\",\n      \"region\": \"Northern\",\n      \"country\": \"Uganda\",\n      \"property_address\": \"Vista2 Abiting Apala Moroto Lira Northern Uganda\",\n      \"parish_id\": \"30750402\",\n      \"subcounty_id\": \"307504\",\n      \"county_id\": \"3075\",\n      \"district_id\": \"307\",\n      \"gps_location\": \"Latitude:32.917384,\\nLongitude:-117.231793,\\nAltitude:36.636719,\\nSpeed:0.000000,\\nAccuracy:18.203999,\\nProvider:gps,\\nTime:03/09/2018 09:58:10 PST\",\n      \"longitude\": \"-117.231793\",\n      \"latitude\": \"32.917384\",\n      \"gps_location_confirmed\": \"Yes\",\n      \"land_lot_length\": 100,\n      \"land_lot_width\": 100,\n      \"land_lot_size\": \"10000.00\",\n      \"is_home_building_present\": \"Yes\",\n      \"home_building_type\": \"House\",\n      \"year_built\": null,\n      \"wall_material\": null,\n      \"roof_material\": null,\n      \"window_material\": null,\n      \"building_condition\": null,\n      \"floor_size\": 0,\n      \"number_of_bedrooms\": \"1\",\n      \"number_of_bathrooms\": \"1\",\n      \"number_of_stories\": \"0\",\n      \"water_source\": null,\n      \"energy_source\": null,\n      \"offstreet_parking\": null,\n      \"number_of_parking_spaces\": 0,\n      \"parking_structure\": null,\n      \"parking_structure_type\": null,\n      \"access_road\": null,\n      \"access_road_surface\": null,\n      \"access_road_motorable\": null,\n      \"property_valuation\": \"7,000,000,000\",\n      \"property_taxation_amount\": \"NaN\",\n      \"property_unique_id\": \"30750402128\",\n      \"roof_material_metal\": null,\n      \"roof_material_tile\": null,\n      \"roof_material_other\": null,\n      \"wall_material_metal\": null,\n      \"wall_material_other\": null,\n      \"window_material_metal\": null,\n      \"window_material_other\": null,\n      \"water_source_pump\": null,\n      \"water_source_other\": null,\n      \"energy_source_other\": null,\n      \"access_road_surface_other\": null,\n      \"tenant_monthly_rent\": 0,\n      \"annual_rental_taxation_amount_rent\": \"0\",\n      \"annual_rental_taxation_amount_valuation\": \"140,000,000\",\n      \"home_building_photo\": null,\n      \"street_name\": \"Vista2\"\n    }\n  ],\n  \"select_property\": null,\n  \"register_person_with_property\": \"Yes\",\n  \"is_person_registered\": \"No\",\n  \"new_person\": [\n    {\n      \"ID\": \"71\",\n      \"PARENT_RECORD_ID\": \"170\",\n      \"PARENT_PAGE_ID\": \"146\",\n      \"PARENT_ELEMENT_ID\": \"3353\",\n      \"CREATED_DATE\": \"2018-03-09 13:02:31\",\n      \"CREATED_BY\": \"data_edge_revenue\",\n      \"CREATED_LOCATION\": \"32.917491:-117.231712:25.170166:50.060997:50.060997:0.000000:0.000000:1520618438656.000000\",\n      \"CREATED_DEVICE_ID\": \"358332082254645\",\n      \"MODIFIED_DATE\": \"2018-03-09 13:02:32\",\n      \"MODIFIED_BY\": \"data_edge_revenue\",\n      \"MODIFIED_LOCATION\": \"32.917491:-117.231712:25.170166:50.060997:50.060997:0.000000:0.000000:1520618438656.000000\",\n      \"MODIFIED_DEVICE_ID\": \"358332082254645\",\n      \"SERVER_MODIFIED_DATE\": \"2018-03-09 13:02:49\",\n      \"title\": null,\n      \"first_name\": \"Gary\",\n      \"middle_name\": \"\",\n      \"last_name\": \"Oldman\",\n      \"suffix\": null,\n      \"full_name\": \"Gary Oldman\",\n      \"person_identifier\": \"Gary Oldman (C1234567898765)\",\n      \"date_of_birth\": null,\n      \"photo\": null,\n      \"national_identification_number\": \"C1234567898765\",\n      \"photo_national_identification_card\": null,\n      \"email_address\": null,\n      \"plot_number\": \"\",\n      \"apartment_unit_number\": \"\",\n      \"parish_unique_identifier\": \"\",\n      \"parish\": \"\",\n      \"subcounty\": \"\",\n      \"county\": \"\",\n      \"district\": \"\",\n      \"region\": \"\",\n      \"country\": \"\",\n      \"address\": \"\",\n      \"parish_id\": \"\",\n      \"subcounty_id\": \"\",\n      \"county_id\": \"\",\n      \"district_id\": \"\",\n      \"individual_unique_id\": \"71\",\n      \"import_address\": null,\n      \"phone_number\": null,\n      \"tax_identification_number\": null,\n      \"street_name\": \"\"\n    }\n  ],\n  \"select_person\": null,\n  \"registration_relationship\": \"Renter/Tenant\",\n  \"validate_record\": null,\n  \"tenant_monthly_rent\": null,\n  \"annual_rental_taxation\": null,\n  \"person_full_name\": \"\",\n  \"person_date_of_birth\": \"\",\n  \"person_national_identification_number\": \"\",\n  \"person_tax_identification_number\": \"\",\n  \"person_phone_number\": \"\",\n  \"person_email_address\": \"\",\n  \"person_address\": \"\",\n  \"property_latitude\": \"\",\n  \"property_longitude\": \"\",\n  \"_id\": \"5aa2cc4af74b8a60a8a9153f\",\n  \"RUN_ID\": \"5aa2cc4a9d84bdce1caa43fa\",\n  \"RUN_ID_RECORD_IDX\": \"0\"\n}","filterHelperCode":"","filterExpression":"","transformationHelperCode":"// ----------------------------\n// DEFINE RWAVES WEIGHTS\n// ----------------------------\nvar property_weights = [\"Address\",\"Home/Building Type\",\"Property Valuation\",\"Rental Taxation Amount\"];\nvar tenant_weights = [\"Name\",\"National Identification Number\",\"Tax ID Number\",\"Address\",\"Phone Number\"];\nvar landlord_weights = [\"Name\",\"National Identification Number\",\"Tax ID Number\",\"Address\",\"Phone Number\"];\nvar owner_weights = [\"Name\",\"National Identification Number\",\"Tax ID Number\",\"Address\",\"Phone Number\"];\n\n// ----------------------------\n// CREATE ARRAY OF RECORDS TO SEND\n// ----------------------------\nvar rWAVES = [];\n\n// if new_property is filled out, add to array of records to send\nif(record.is_property_registered === \"No\") {\n   var property = {};\n   property.data = {};\n   property.layer_type = \"Properties\";\n\n   // define data for object\n   property.data['Name'] = record.new_property[0].property_address;\n   property.data['Address'] = record.new_property[0].property_address;\n   property.data['Land/Lot Size'] = record.new_property[0].land_lot_size;\n   property.data['Is there a home/building?'] = record.new_property[0].is_home_building_present;\n   if(record.new_property[0].is_home_building_present === \"Yes\") {\n      property.data['Home/Building Type'] = record.new_property[0].home_building_type;\n      property.data['Condition of Building'] = record.new_property[0].building_condition;\n      property.data['Floor Size'] = record.new_property[0].floor_size;\n      property.data['Number of Bedrooms'] = record.new_property[0].number_of_bedrooms;\n      property.data['Property Valuation'] = record.new_property[0].property_valuation;\n      property.data['Property Taxation Amount'] = record.new_property[0].property_taxation_amount;\n      property.data['Rental Taxation Amount'] = record.new_property[0].annual_rental_taxation_amount_rent;\n      property.data['Rental Taxation Valuation'] = record.new_property[0].annual_rental_taxation_amount_valuation;\n   }\n\n   // define location for object\n   property.location = {\n      \"latitude\": record.new_property[0].latitude,\n      \"longitude\": record.new_property[0].longitude\n   };\n\n   // add to array\n   rWAVES.push(property);\n}\n\n// if person is part of record, add to array\nif(record.register_person_with_property === \"Yes\") {\n   var person = {};\n   person.data = {};\n   person.layer_type = record.registration_relationship;\n\n   // if new person\n   if(record.is_person_registered === \"No\") {\n      // complete data\n      person.data['Name'] = record.new_person[0]['full_name'];\n      person.data['Date of Birth'] = record.new_person[0]['date_of_birth'];\n      person.data['National Identification Number'] = record.new_person[0]['national_identification_number'];\n      person.data['Tax ID Number'] = record.new_person[0]['tax_identification_number'];\n      person.data['Phone Number'] = record.new_person[0]['phone_number'];\n      person.data['Email Address'] = record.new_person[0]['email_address'];\n      person.data['Address'] = record.new_person[0]['address'];\n   } else {\n      // complete data\n      person.data['Name'] = record['person_full_name'];\n      person.data['Date of Birth'] = record['person_date_of_birth'];\n      person.data['National Identification Number'] = record['person_national_identification_number'];\n      person.data['Tax ID Number'] = record['person_tax_identification_number'];\n      person.data['Phone Number'] = record['person_phone_number'];\n      person.data['Email Address'] = record['person_email_address'];\n      person.data['Address'] = record['person_address'];\n   }\n\n   // define location\n   person.location = {};\n   person.location['latitude'] = (record.is_property_registered === \"Yes\") ? record.property_latitude : record.new_property[0]['latitude'];\n   person.location['longitude'] = (record.is_property_registered === \"Yes\") ? record.property_longitude : record.new_property[0]['longitude'];\n\n   rWAVES.push(person);\n}\n\n// ----------------------------\n// CREATE GEOLOCATIONFIELDS\n// ----------------------------\nfor(var i=0; i<rWAVES.length; i++) {\n   var obj = {};\n   \n   obj['rwave'] = {};\n   obj['rwave']['geocodeLocationFields'] = [];\n\n   // loop through fields\n   for(var key in rWAVES[i].data) {\n      var kvp = {};\n      kvp['field'] = key;\n      kvp['value'] = (rWAVES[i].data[key] == null) ? \"\" : rWAVES[i].data[key];\n      \n      switch(rWAVES[i].layer_type) {\n         case \"Properties\":\n            kvp['weight'] = (property_weights.indexOf(key) >= 0) ? property_weights.indexOf(key) : null;\n            break;\n         case \"Renter/Tenant\":\n            kvp['weight'] = (tenant_weights.indexOf(key) >= 0) ? tenant_weights.indexOf(key) : null;\n            break;\n         case \"Landlord\":\n            kvp['weight'] = (landlord_weights.indexOf(key) >= 0) ? landlord_weights.indexOf(key) : null;\n            break;\n         case \"Owner Occupier\":\n            kvp['weight'] = (owner_weights.indexOf(key) >= 0) ? owner_weights.indexOf(key) : null;\n            break;\n      }\n      \n      obj['rwave']['geocodeLocationFields'].push(kvp);\n   }\n\n   rWAVES[i].geocodeLocationFields = obj['rwave']['geocodeLocationFields'];\n\n}","transformationExpression":"rWAVES"},"type":"PREPROCESSING","deleteOnEachRun":true,"status":1,"jobStatus":null},"parentRecordSetIndex":[2]},{"name":"rs_stagetoken","type":"recordset","recordCount":0,"node":6,"nodeType":"node","recordSetName":"rs_stagetoken","description":""},{"name":"stageToken","type":"event","recordCount":0,"node":7,"nodeType":"input","recordSetIndex":6,"eventName":"stageToken"},{"name":"getStageToken","type":"http_request","recordCount":0,"node":8,"nodeType":"output","recordSetIndex":5,"postAction":{"actionType":"http_request","actionName":"getStageToken","version":"2.1","conditions":[{"conditionHelperCode":"","conditionExpression":"","action":{"dataflowName":"Uganda","dataflowId":"5a503560394ae06156c84385","recordsetName":"rWAVES","recordsetId":"5a68ebe93959d9db4100e2c7","entityId":"59d20b35bddc7e02b10e9672","entityName":"zerion_support_ripplenami","postUrl":"https://rwaves-stage.ripplenami.com/web/j_security_check/","postFormat":"JSON","groupPost":null,"contentType":"x-www-form-urlencoded","rawType":"","rawBody":null,"postHeader":[{"name":"application-accept","mapping":"json"}],"postBody":[{"name":"j_username","mapping":"other","otherExpression":"\"x@x.com\""},{"name":"j_password","mapping":"other","otherExpression":"\"rwavesxx\""}],"actionType":"POST","connectionId":"","requestType":"POST"}}],"type":"POST_ACTION","status":1,"eventSuccessTitle":null,"eventSuccess":null,"eventFailureTitle":null,"eventFailure":null,"eventTitle":"stageToken","eventCode":"{\n\t\"dateTime\": \"{{record.dateTime}}\",\n\t\"actionName\": \"{{record.actionName}}\",\n\t\"data\": {{JSON record.recordData}},\n\t\"status\": \"{{record.statusCode}}\",\n\t\"response\": {{JSON record.response}},\n\t\"errorMessage\": {{JSON record.errorMessage}},\n\t\"headers\": {{JSON record.headers}}\n}"}},{"name":"rs_prodtoken","type":"recordset","recordCount":0,"node":9,"nodeType":"node","recordSetName":"rs_prodtoken","description":""},{"name":"prodToken","type":"event","recordCount":0,"node":10,"nodeType":"input","recordSetIndex":9,"eventName":"prodToken"},{"name":"getProdToken","type":"http_request","recordCount":0,"node":11,"nodeType":"output","status":-1,"recordSetIndex":5,"postAction":{"actionType":"http_request","actionName":"getProdToken","version":"2.1","conditions":[{"conditionHelperCode":"","conditionExpression":"","action":{"dataflowName":"Uganda","dataflowId":"5a503560394ae06156c84385","recordsetName":"rWAVES","recordsetId":"5a68ebe93959d9db4100e2c7","entityId":"59d20b35bddc7e02b10e9672","entityName":"zerion_support_ripplenami","postUrl":"http://rwaves.ripplenami.com/web/j_security_check/","postFormat":"JSON","groupPost":null,"contentType":"x-www-form-urlencoded","rawType":"","rawBody":null,"postHeader":[{"name":"application-accept","mapping":"json"}],"postBody":[{"name":"j_username","mapping":"other","otherExpression":"\"x@x.com\""},{"name":"j_password","mapping":"other","otherExpression":"\"rwavesxx\""}],"actionType":"POST","connectionId":"","requestType":"POST"}}],"type":"POST_ACTION","status":1,"eventSuccessTitle":null,"eventSuccess":null,"eventFailureTitle":null,"eventFailure":null,"eventTitle":"prodToken","eventCode":"{\n\t\"dateTime\": \"{{record.dateTime}}\",\n\t\"actionName\": \"{{record.actionName}}\",\n\t\"data\": {{JSON record.recordData}},\n\t\"status\": \"{{record.statusCode}}\",\n\t\"response\": {{JSON record.response}},\n\t\"errorMessage\": {{JSON record.errorMessage}},\n\t\"headers\": {{JSON record.headers}}\n}"}},{"name":"stageLayers","type":"recordset","recordCount":0,"node":12,"nodeType":"node","recordSetName":"stageLayers","description":null,"data_refinery":{"parameters":{"previewInputData":"","filterHelperCode":"","filterExpression":"","transformationHelperCode":"// ----------------------------\n// DEFINE RWAVES IDS\n// ----------------------------\nvar organizationID = \"eb342af8-2243-4d44-8606-1b7ba457250c\";\nvar layerIDs = {};\nlayerIDs['Properties'] = \"98120fa2-6e19-4b7d-b097-11dd2baee0e8\";\nlayerIDs['Owner Occupier'] = \"9e39cfb5-bfdb-485b-91e8-d81b70496e1f\";\nlayerIDs['Landlord'] = \"56381d5a-d9ab-4361-8a76-bb3a689b36f7\";\nlayerIDs['Renter/Tenant'] = \"8c3fea9a-e1da-4253-ac24-075616ede8ba\";\n\n// create object\nvar obj = {};\nobj['token'] = record.response.token;\nobj['rwave'] = {};\nobj['rwave']['geocodeLocationFields'] = record.data.geocodeLocationFields;\nobj['rwave']['location'] = record.data.location;\n\nobj['rwave']['organizationId'] = organizationID;\nobj['layer'] = layerIDs[record['data']['layer_type']];","transformationExpression":"obj"},"type":"PREPROCESSING","deleteOnEachRun":true,"status":1},"parentRecordSetIndex":[6]},{"name":"prodLayers","type":"recordset","recordCount":0,"node":13,"nodeType":"node","recordSetName":"prodLayers","description":null,"data_refinery":{"parameters":{"previewInputData":"","filterHelperCode":"","filterExpression":"","transformationHelperCode":"// ----------------------------\n// DEFINE RWAVES IDS\n// ----------------------------\nvar organizationID = \"eb342af8-2243-4d44-8606-1b7ba457250c\";\nvar layerIDs = {};\nlayerIDs['Properties'] = \"98120fa2-6e19-4b7d-b097-11dd2baee0e8\";\nlayerIDs['Owner Occupier'] = \"9e39cfb5-bfdb-485b-91e8-d81b70496e1f\";\nlayerIDs['Landlord'] = \"56381d5a-d9ab-4361-8a76-bb3a689b36f7\";\nlayerIDs['Renter/Tenant'] = \"8c3fea9a-e1da-4253-ac24-075616ede8ba\";\n\n// create object\nvar obj = {};\nobj['token'] = record.response.token;\nobj['rwave'] = {};\nobj['rwave']['geocodeLocationFields'] = record.data.geocodeLocationFields;\nobj['rwave']['location'] = record.data.location;\n\nobj['rwave']['organizationId'] = organizationID;\nobj['layer'] = layerIDs[record['data']['layer_type']];","transformationExpression":"obj"},"type":"PREPROCESSING","deleteOnEachRun":true,"status":1},"parentRecordSetIndex":[9]},{"name":"PUT_rwaves_stage","type":"http_request","recordCount":0,"node":14,"nodeType":"output","recordSetIndex":12,"postAction":{"actionType":"http_request","actionName":"PUT_rwaves_stage","version":"2.1","conditions":[{"conditionHelperCode":"","conditionExpression":"","action":{"dataflowName":"Uganda","dataflowId":"5a503560394ae06156c84385","recordsetName":"stageLayers","recordsetId":"5ac26dda4cec9d507cf0c3d5","entityId":"59d20b35bddc7e02b10e9672","entityName":"zerion_support_ripplenami","postUrl":"http://rwaves-stage.ripplenami.com/api/geocodelocation/{{record.layer}}","postFormat":"JSON","groupPost":null,"contentType":"raw","rawType":"application/json","rawBody":"{{json record.rwave}}","postHeader":[{"name":"token","mapping":"{{record.token}}"},{"name":"Content-Type","mapping":"application/json"}],"postBody":[],"actionType":"PUT","connectionId":"","requestType":"PUT"}}],"type":"POST_ACTION","status":1,"eventSuccessTitle":"","eventSuccess":"","eventFailureTitle":"","eventFailure":"","eventTitle":"PUT_rwaves_result","eventCode":"{\n\t\"dateTime\": \"{{record.dateTime}}\",\n\t\"actionName\": \"{{record.actionName}}\",\n\t\"data\": {{JSON record.recordData}},\n\t\"status\": \"{{record.statusCode}}\",\n\t\"response\": {{JSON record.response}},\n\t\"errorMessage\": {{JSON record.errorMessage}},\n\t\"headers\": {{JSON record.headers}}\n}"}},{"name":"PUT_rwaves_prod","type":"http_request","recordCount":0,"node":15,"nodeType":"output","status":1,"recordSetIndex":13,"postAction":{"actionType":"http_request","actionName":"PUT_rwaves_prod","version":"2.1","conditions":[{"conditionHelperCode":"","conditionExpression":"","action":{"dataflowName":"Uganda","dataflowId":"5a503560394ae06156c84385","recordsetName":"prodLayers","recordsetId":"5ac26df84cec9d507cf0c3da","entityId":"59d20b35bddc7e02b10e9672","entityName":"zerion_support_ripplenami","postUrl":"http://rwaves.ripplenami.com/api/geocodelocation/{{record.layer}}","postFormat":"JSON","groupPost":null,"contentType":"raw","rawType":"application/json","rawBody":"{{json record.rwave}}","postHeader":[{"name":"token","mapping":"{{record.token}}"},{"name":"Content-Type","mapping":"application/json"}],"postBody":[],"actionType":"PUT","connectionId":"","requestType":"PUT"}}],"type":"POST_ACTION","status":1,"eventSuccessTitle":"","eventSuccess":"","eventFailureTitle":"","eventFailure":"","eventTitle":"PUT_rwaves_result","eventCode":"{\n\t\"dateTime\": \"{{record.dateTime}}\",\n\t\"actionName\": \"{{record.actionName}}\",\n\t\"data\": {{JSON record.recordData}},\n\t\"status\": \"{{record.statusCode}}\",\n\t\"response\": {{JSON record.response}},\n\t\"errorMessage\": {{JSON record.errorMessage}},\n\t\"headers\": {{JSON record.headers}}\n}"}},{"name":"rs_put_rwaves_result","type":"recordset","recordCount":0,"node":16,"nodeType":"node","recordSetName":"rs_put_rwaves_result","description":""},{"name":"PUT_rwaves_result","type":"event","recordCount":0,"node":17,"nodeType":"input","recordSetIndex":16,"eventName":"PUT_rwaves_result"}],"links":[{"source":1,"target":0,"value":0},{"source":0,"target":2,"value":0},{"source":2,"target":3,"value":0},{"source":3,"target":4,"value":0},{"source":2,"target":5,"value":0},{"source":7,"target":6,"value":0},{"source":5,"target":8,"value":0},{"source":10,"target":9,"value":0},{"source":5,"target":11,"value":0},{"source":6,"target":12,"value":0},{"source":9,"target":13,"value":0},{"source":12,"target":14,"value":0},{"source":13,"target":15,"value":0},{"source":17,"target":16,"value":0}],"requestAccess":[{"entity":"59edcfbbe654281406152cb2","requestCondition":"granted","entityName":"eric.erdmann@ripplenami.com","requestedDate":"2018-04-02T19:40:31.043Z","expiredTime":null}],"version":"2.0","autocleaniFormData":true,"maxObjectsPerDataflow":50,"status":null}